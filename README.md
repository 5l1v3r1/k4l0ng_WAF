# php编写的通防K4l0nG_WAF
几乎能抵御所有web层能导致getshell的攻击（暴力）
在多次线下攻防比赛中表现优异，几乎没有被攻破

# 添加日志记录，流量记录功能
## 简洁日志
* all_requests.txt记录的类似于apache的日志，但是它能显示出每次访问POST过来的数据
## 详细日志
* all_requests_details.txt记录的是详细的请求头信息，类似burp中截取的请求。
## 攻击流量
* attack_detect_log.txt记录的是waf检测到的攻击请求，waf会将详细的攻击向量记录在这个文件中，并在文件开头表明攻击类型（sqli，EXEC，LFI／RFI等）。
## 抓取流量
* 若AWD环境中没有权限部署流量拦截工具，可将此waf更名为别人的webshell文件名，从而获取他的webshell连接流量
# 使用
* 若此文件在linux下执行，请保证此文件啊具有可执行权限
* 可自行修改日志保存路径，默认为当前waf文件所在目录，请保证日志文件夹有可写权限。
* 将waf文件包含在index.php（基于MVC的php程序，包含在第一条），或者config.php中（即尽量让所有文件都能包含此文件，且包含在文件开头，先于程序执行）
# 更新 
增加了抵御文件上传，会拦截所有的文件上传，并将上传内容保存至日志。
# 注意
注：本文件只提供于安全研究，网络攻防（AWD）模式的比赛。不适用于商业性质
# 请务滥用
