## 利用php编写的终极版通防waf

### 几乎能抵御所有web层能导致getshell的攻击（暴力）

## 在多次线下攻防比赛中表现优异，几乎没有被攻破

## 添加了日志记录的功能，分为简洁版和详细版

* 其中all_requests.txt记录的类似于apache的日志，但是它能显示出每次访问POST过来的数据

* 其中all_requests_details.txt记录的是详细的请求头信息，类似burp中截取的请求。
* 其中attack_detect_log.txt记录的是waf检测到的攻击请求，waf会将详细的攻击向量记录在这个文件中，并在文件开头表明攻击类型（sqli，EXEC，LFI／RFI等）。

* 通过以上日志可以分析其它攻击人员的载荷，一般情况下，这个攻击载荷，对其它选手也是有用的了，很猥琐。

## 使用

* 若此文件在linux下执行，请保证此文件啊具有可执行权限
* 可自行修改日志保存路径，默认为当前waf文件所在目录，请保证日志文件夹有可写权限。
* 将waf文件包含在index.php（基于MVC的php程序，包含在第一条），或者config.php中（即尽量让所有文件都能包含此文件，且包含在文件开头，先于程序执行）

## 增加了抵御文件上传，会拦截所有的文件上传，并将上传内容保存至日志。


## 注：本文件只提供于安全研究，网络攻防（AWD）模式的比赛。不适用于商业性质

## 请务滥用这个waf，不然比赛就没意思了。
